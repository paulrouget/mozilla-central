<?xml version="1.0" encoding="UTF-8"?>
<!-- This Source Code Form is subject to the terms of the Mozilla Public
     - License, v. 2.0. If a copy of the MPL was not distributed with this
     - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->
<!DOCTYPE html [
  <!ENTITY % appMgrDTD SYSTEM "chrome://browser/locale/devtools/app-manager.dtd" >
  %appMgrDTD;
]>

<html xmlns="http://www.w3.org/1999/xhtml">

  <head>
    <meta charset="utf8"/>
    <base href="chrome://browser/content/devtools/app-manager/"></base>

    <title>&projects.title;</title>

    <link rel="stylesheet" href="projects.css" type="text/css"/>
    <link rel="stylesheet" href="chrome://browser/skin/devtools/projects.css" type="text/css"/>
  </head>

  <body onload="UI.onload()">
    <section id="content">

      <div id="new-app">
        <div id="new-app-type">
          <button onclick="UI.addPackaged()">&projects.addPackaged;</button>
          &projects.or;
          <input value="" id="hosted-manifest-url" type="url" pattern="https?://.+" placeholder="http://mydomain.com/app/webapp.manifest" size="50" />
          <button onclick="UI.addHosted()">&projects.addHosted;</button>
        </div>
      </div>

      <h2>&projects.localApps;</h2>
      <div id="projects" template-loop='{"arrayPath":"projects","childSelector":"#project-template"}'></div>


    </section>

    <iframe id="connection-footer" src="connection-footer.xhtml"></iframe>
  </body>

  <template id="project-template">
  <div class="project" template='{"type":"attribute","path":"location","name":"id"}'>
    <div class="project-status" template='{"type":"attribute","path":"validationStatus","name":"status"}'></div>
    <img class="project-icon" template='{"type":"attribute","path":"icon","name":"src"}' />
    <div class="project-meta">
      <strong class="name" template='{"type":"textContent","path":"name"}'></strong>
      <span class="type" template='{"type":"textContent","path":"type"}'></span>
      <span class="location" template='{"type":"textContent","path":"location"}' onclick="UI.reveal(this.textContent)"></span>
      <div class="validation">
        <div class="errors" template='{"type":"textContent","path":"errors"}'></div>
        <div class="warnings" template='{"type":"textContent","path":"warnings"}'></div>
      </div>
    </div>
    <div class="project-controls">
      <button class="project-button-refresh" onclick="UI.update(this.dataset.location)" template='{"type":"attribute","path":"location","name":"data-location"}'>&projects.reloadFiles;</button>
      <button class="project-button-install" template='{"type":"attribute","path":"location","name":"data-location"}'>&projects.installApp;</button>
      <button class="project-button-start" template='{"type":"attribute","path":"location","name":"data-location"}'>&projects.startApp;</button>
      <button class="project-button-stop" template='{"type":"attribute","path":"location","name":"data-location"}'>&projects.stopApp;</button>
      <button class="project-button-debug" template='{"type":"attribute","path":"location","name":"data-location"}'>&projects.debugApp;</button>
      <button class="project-button-remove" onclick="UI.remove(this.dataset.location)" template='{"type":"attribute","path":"location","name":"data-location"}' title="&projects.removeApp;"></button>
    </div>
  </div>
  </template>



  <script type="application/javascript;version=1.8" src="projects.js"></script>
  <script type="application/javascript;version=1.8" src="template.js"></script>
</html>
