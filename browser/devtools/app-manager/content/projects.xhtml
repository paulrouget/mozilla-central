<?xml version="1.0" encoding="UTF-8"?>
<!-- This Source Code Form is subject to the terms of the Mozilla Public
     - License, v. 2.0. If a copy of the MPL was not distributed with this
     - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->
<!DOCTYPE html [
  <!ENTITY % appMgrDTD SYSTEM "chrome://browser/locale/devtools/app-manager.dtd" >
  %appMgrDTD;
]>

<html xmlns="http://www.w3.org/1999/xhtml">

  <meta charset="utf8"/>

  <title>&projects.title;</title>

  <link rel="stylesheet" href="chrome://browser/content/devtools/app-manager/projects.css" type="text/css"/>
  <link rel="stylesheet" href="chrome://browser/skin/devtools/projects.css" type="text/css"/>

  <body onload="UI.onload()">
    <section id="content">

      <div id="global-controls">
        <div>
          <button onclick="UI.addPackaged()">Select sources folder</button>
        </div>

        <div>
          <label value="Hosted app manifest URL:">
            <input value="" autocomplete="off" id="hosted-manifest-url" type="url" pattern="https?://.+" placeholder="http://mydomain.com/app/webapp.manifest" size="50" />
            <button onclick="UI.addHosted()">New hosted app</button>
          </label>
        </div>
      </div>

      <h2>&projects.localApps;</h2>
      <div id="projects" template-loop='{"arrayPath":"projects","childSelector":"#project-template"}'></div>
    </section>

  <template id="project-template">
    <section class="project" template='{"type":"attribute","path":"location","name":"id"}'>
      <img class="icon" template='{"type":"attribute","path":"icon","name":"src"}' />
      <section>
        <button onclick="UI.update(this.dataset.location)" template='{"type":"attribute","path":"location","name":"data-location"}'>&projects.reloadFiles;</button>
        <button onclick="UI.remove(this.dataset.location)" template='{"type":"attribute","path":"location","name":"data-location"}'>&projects.removeApp;</button>
        <span class="name" template='{"type":"textContent","path":"name"}'></span>
        <span class="type" template='{"type":"textContent","path":"type"}'></span>
        <span class="location" template='{"type":"textContent","path":"location"}' onclick="UI.reveal(this.textContent)"></span>
        <section class="validation">
          <section class="errors" template='{"type":"textContent","path":"errors"}'></section>
          <section class="warnings" template='{"type":"textContent","path":"warnings"}'></section>
        </section>
      </section>
    </section>
  </template>


    <iframe id="connection-footer" src="chrome://browser/content/devtools/app-manager/connection-footer.xhtml"></iframe>
  </body>

  <script type="application/javascript;version=1.8" src="chrome://browser/content/devtools/app-manager/projects.js"></script>
  <script type="application/javascript;version=1.8" src="chrome://browser/content/devtools/app-manager/template.js"></script>
</html>
