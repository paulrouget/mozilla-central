<?xml version="1.0" encoding="UTF-8"?>
<!-- This Source Code Form is subject to the terms of the Mozilla Public
     - License, v. 2.0. If a copy of the MPL was not distributed with this
     - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->
<!DOCTYPE html [
  <!ENTITY % appMgrDTD SYSTEM "chrome://browser/locale/devtools/app-manager.dtd" >
  %appMgrDTD;
]>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf8"/>
    <link rel="stylesheet" href="connection-footer.css" type="text/css"/>
    <link rel="stylesheet" href="chrome://browser/skin/devtools/connection-footer.css" type="text/css"/>
  </head>

  <body onload="UI.init()">

    <div id="connection-footer" template='{"type":"attribute","path":"connection.status","name":"status"}'>
      <div id="banners-and-logs">

        <!-- Connected -->
        <div id="banner-connected" class="banner">
          <div id="status" class="banner-box">
            <div class="banner-content">
              <span template='{"type":"localizedContent","property":"connection.connectedToDevice","paths":["device.description.name"]}'></span>
              <a href="#" onclick="UI.disconnect()">&connection.disconnect;</a>
            </div>
          </div>
          <div id="expand" class="banner-box">
            <div class="banner-content">
              <a target="_" href="devtools:device">&connection.showDeviceCtrlCenter;</a>
            </div>
          </div>
        </div>

        <!-- Disconnected -->
        <div id="banner-disconnected" class="banner">
          <div class="banner-box">
            <div class="banner-content">
              <span>&connection.notConnected;</span>
              <button onclick="UI.connect()" id="connect-button" template='{"type":"localizedContent","property":"connection.connectTo","paths":["connection.host","connection.port"]}'></button>
              <a href="#" onclick="UI.editConnectionParameters()">&connection.changeHostAndPort;</a>
              <button id="start-simulator-button" onclick="UI.startSimulator()" template='{"type":"attribute","path":"simulators.versions.length","name":"simulators-count"}'>&connection.startSimulator;</button>
            </div>
          </div>
        </div>

        <!-- Connecting -->
        <div id="banner-connecting" class="banner">
          <div id="status" class="banner-box">
            <div class="banner-content">
              <span>&connection.connecting;</span>
              <button onclick="UI.disconnect()">&connection.cancel;</button>
            </div>
          </div>
        </div>

        <!-- Disconnecting -->
        <div id="banner-disconnecting" class="banner">
          <div id="status" class="banner-box">
            <div class="banner-content">
              <span>&connection.disconnecting;</span>
            </div>
          </div>
        </div>

        <!-- Editing -->
        <div id="banner-editing" class="banner">
          <div class="banner-box">
            <div class="banner-content">
              <form onsubmit="UI.saveConnectionInfo()">
                <input class="host" template='{"type":"attribute","path":"connection.host","name":"value"}'></input>
                <input class="port" pattern="\d+" template='{"type":"attribute","path":"connection.port","name":"value"}' type="number"></input>
                <button type="submit">&connection.saveConnectionInfo;</button>
              </form>
            </div>
          </div>
        </div>

        <!-- Logs -->
        <div id="logs">
          <pre></pre>
        </div>

      </div>
    </div>
  </body>

  <script type="application/javascript;version=1.8" src="connection-footer.js"></script>
  <script type="application/javascript;version=1.8" src="template.js"></script>
</html>
